{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/dyllanliu/Desktop/BigLittle/frontend/src/screens/MyNotes/Contact.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport MainScreen from \"../../components/MainScreen\";\nimport axios from \"axios\";\nimport { Button, Card, Form } from \"react-bootstrap\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { requestMatch } from \"../../actions/matchActions\";\nimport emailjs from 'emailjs-com';\n\nfunction Contact({\n  match,\n  history\n}) {\n  _s();\n\n  const [mentorName, setMentorName] = useState();\n  const [mentorEmail, setMentorEmail] = useState();\n  const [mentorId, setMentorId] = useState();\n  const [mentorPic, setMentorPic] = useState();\n  const [message, setMessage] = useState();\n  const userLogin = useSelector(state => state.userLogin);\n  const {\n    userInfo\n  } = userLogin;\n  const username = userInfo.name;\n  useEffect(() => {\n    const fetching = async () => {\n      const {\n        data\n      } = await axios.get(`/api/notes/${match.params.id}`);\n      setMentorName(data.name);\n      setMentorEmail(data.email);\n      setMentorId(data.user);\n      setMentorPic(data.pic);\n    };\n\n    fetching();\n  }, [match.params.id]);\n  const dispatch = useDispatch();\n\n  function sendEmail(e) {\n    e.preventDefault(); //This is important, i'm not sure why, but the email won't send without it\n\n    const params = {\n      to_name: mentorName,\n      to_email: mentorEmail,\n      from_name: username\n    };\n    emailjs.send('service_3er6kbs', 'template_lvio19j', params, 'user_YkPUCqRE7GeUAAyPMBbJd').then(result => {\n      dispatch(requestMatch(mentorName, mentorId, mentorPic, match.params.id, message));\n    }, error => {\n      console.log(error.text);\n    });\n    history.push(\"/home\");\n  }\n\n  return /*#__PURE__*/_jsxDEV(MainScreen, {\n    title: \"Yeet Note\",\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n        children: \"Contact This Big!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          onSubmit: sendEmail,\n          children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"content\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Message\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              as: \"textarea\",\n              placeholder: \"Enter the message here...\",\n              rows: 4,\n              value: message,\n              onChange: e => setMessage(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            type: \"submit\",\n            children: \"Send\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            className: \"mx-2\",\n            variant: \"danger\",\n            onClick: () => history.push(\"/home\"),\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Contact, \"e5NIiWGqUEnDSW1f4b/jrmscmRg=\", false, function () {\n  return [useSelector, useDispatch];\n});\n\n_c = Contact;\nexport default Contact;\n\nvar _c;\n\n$RefreshReg$(_c, \"Contact\");","map":{"version":3,"sources":["/Users/dyllanliu/Desktop/BigLittle/frontend/src/screens/MyNotes/Contact.js"],"names":["React","useEffect","useState","MainScreen","axios","Button","Card","Form","useSelector","useDispatch","requestMatch","emailjs","Contact","match","history","mentorName","setMentorName","mentorEmail","setMentorEmail","mentorId","setMentorId","mentorPic","setMentorPic","message","setMessage","userLogin","state","userInfo","username","name","fetching","data","get","params","id","email","user","pic","dispatch","sendEmail","e","preventDefault","to_name","to_email","from_name","send","then","result","error","console","log","text","push","target","value"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport MainScreen from \"../../components/MainScreen\";\nimport axios from \"axios\";\nimport { Button, Card, Form } from \"react-bootstrap\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { requestMatch } from \"../../actions/matchActions\";\nimport emailjs from 'emailjs-com';\n\nfunction Contact({ match, history }) {\n    const [mentorName, setMentorName] = useState();\n    const [mentorEmail, setMentorEmail] = useState();\n    const [mentorId, setMentorId] = useState();\n    const [mentorPic, setMentorPic] = useState();\n    const [message, setMessage] = useState();\n    const userLogin = useSelector((state) => state.userLogin);\n    const { userInfo } = userLogin;\n    const username = userInfo.name;\n\n    useEffect(() => {\n        const fetching = async () => {\n            const { data } = await axios.get(`/api/notes/${match.params.id}`);\n            setMentorName(data.name);\n            setMentorEmail(data.email);\n            setMentorId(data.user);\n            setMentorPic(data.pic);\n        };\n\n        fetching();\n    }, [match.params.id]);\n\n    const dispatch = useDispatch();\n\n    function sendEmail(e) {\n        e.preventDefault();    //This is important, i'm not sure why, but the email won't send without it\n        const params = {to_name: mentorName, to_email: mentorEmail, from_name: username};\n        emailjs.send('service_3er6kbs', 'template_lvio19j', params, 'user_YkPUCqRE7GeUAAyPMBbJd')\n            .then((result) => {\n                dispatch(requestMatch(mentorName, mentorId, mentorPic, match.params.id, message));\n            }, (error) => {\n                console.log(error.text);\n            });\n        history.push(\"/home\");\n    }\n\n    return (\n        <MainScreen title=\"Yeet Note\">\n            <Card>\n                <Card.Header>Contact This Big!</Card.Header>\n                <Card.Body>\n                    <Form onSubmit={sendEmail}>\n                        <Form.Group controlId=\"content\">\n                            <Form.Label>Message</Form.Label>\n                            <Form.Control\n                                as=\"textarea\"\n                                placeholder=\"Enter the message here...\"\n                                rows={4}\n                                value={message}\n                                onChange={(e) => setMessage(e.target.value)}\n                            />\n                        </Form.Group>\n                        <Button variant=\"primary\" type=\"submit\">\n                            Send\n                        </Button>\n                        <Button\n                            className=\"mx-2\"\n                            variant=\"danger\"\n                            onClick={() => history.push(\"/home\")}\n                        >\n                            Cancel\n                        </Button>\n                    </Form>\n                </Card.Body>\n            </Card>\n        </MainScreen>\n    );\n}\n\nexport default Contact;\n"]},"metadata":{},"sourceType":"module"}